<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:p="http://primefaces.org/ui"
				template="/templates/main.xhtml">   
  
  	<ui:define name="title">Cadastrar Cartao Titular</ui:define>
  	<ui:define name="content">
	    <h:form id="validate-titular-form">
			<p:messages autoUpdate="true" />
			<p:outputPanel id="cpf-panel" rendered="#{titularController.titularValido == false}">
		    	<h:panelGrid columns="3">
		    		<h:outputLabel value="Cpf:" for="cpf" />
		    		<p:inputMask mask="999.999.999-99" id="cpf"
						value="#{titularController.titular.codigo}" validator="CPFValidator"
						required="true" requiredMessage="Campo *Cpf obrigatorio!">
						<p:ajax event="blur" render="cpf-panel" />
					</p:inputMask>
		    		<p:commandButton actionListener="#{titularController.validate}" update="@form, :cadastro-titular-form" id="validate-button" 
						icon="ui-icon-disk" title="validar" value="validar"/>
		    	</h:panelGrid>
	    	</p:outputPanel>
	    </h:form>
	    <h:form id="cadastro-titular-form">
	    	<p:outputPanel id="dado-titular" rendered="#{titularController.titularValido == true}">
	    		<p:fieldset legend="Dados Titular" toggleable="true" toggleSpeed="500">
			    	<h:panelGrid columns="3">
			    		<h:outputLabel value="Cpf:" for="cpf" />
			    		<h:outputText value="#{titularController.titular.codigo}"/>
			    		<h:outputLabel value="Nome da mae:" for="nomeMae" />
			    		<p:inputText id="nomeMae" value="#{titularController.titular.nomeMae}" 
			    			required="true" requiredMessage="Campo *Nome da mae obrigatorio!"/>
			    	</h:panelGrid>
		    	</p:fieldset>
	    	</p:outputPanel>
	    </h:form>
    </ui:define>
</ui:composition> 
